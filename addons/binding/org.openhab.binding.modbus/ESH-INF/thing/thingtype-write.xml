<thing:thing-descriptions bindingId="modbus" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">
	<thing-type id="write">
		<supported-bridge-type-refs>
			<bridge-type-ref id="readwrite" />
		</supported-bridge-type-refs>
		<label>Modbus write definition</label>
		<channels>
            <channel id="switch" typeId="switch-type" />
            <channel id="contact" typeId="contact-type" />
            <channel id="datetime" typeId="datetime-type" />
            <channel id="dimmer" typeId="dimmer-type" />
            <channel id="number" typeId="number-type" />
            <channel id="string" typeId="string-type" />
            <channel id="rollershutter" typeId="rollershutter-type" />
            <channel id="lastWriteSuccess" typeId="last-successful-write-type" />
            <channel id="lastWriteError" typeId="last-erroring-write-type" />
		</channels>
		<config-description>
			<!-- where to write -->
			<parameter name="start" type="integer">
				<label>Address</label>
				<description>Address of the first holding register or coils in the write. Use zero based address, e.g. in place of 400001 (first holding register), use the address 0. This address is passed to data frame as is.</description>
				<default>0</default>
			</parameter>
			<parameter name="type" type="text" required="true">
				<label>Type</label>
				<description>Type of data to write. Coil uses function code 5. Holding register uses function code 4 or 16, depending on "Use FC16" parameter.</description>
				<options>
					<option value="coil">coil, or digital out (DO)</option>
					<option value="holding">holding register</option>
				</options>
			</parameter>

			<!-- what to write -->
			<parameter name="trigger" type="text">
				<label>trigger</label>
				<description>Process command only if the command
    matches this string. Use asterisk (*) to match all</description>
				<default>*</default>
			</parameter>

			<!-- how to write: transform and valuetype -->
			<parameter name="transform" type="text">
				<label>transform</label>
				<description>Transformation to apply to received commands.
    Use "default" to communicate that no transformation is done and value should be passed as is.
    Use SERVICENAME(ARG) to use transformation service.
    Any other value than the above types will be interpreted as static text, in which case the actual content of the command 
         value is ignored.</description>
				<default>default</default>
			</parameter>
            <parameter name="valueType" type="text" required="true">
                <label>Value type</label>
                <description>How data is read from modbus. Only applicable to registers</description>
                <options>
                    <option value="float32">32bit floating point</option>
                    <option value="float32_swap">32bit floating point, 16bit words swapped</option>
                    
                    <option value="int32">32bit signed integer</option>
                    <option value="uint32">32bit unsigned integer</option>
                    <option value="int32_swap">32bit signed integer, 16bit words swapped</option>
                    <option value="uint32_swap">32bit unsigned integer, 16bit words swapped</option>
                    
                    <option value="int16">16bit signed integer</option>
                    <option value="uint16">16bit unsigned integer</option>
<!--                    
                    <option value="int8">8bit signed integer</option>
                    <option value="uint8">8bit unsigned integer</option>
                    
                    <option value="bit">individual bit</option>-->
                </options>
            </parameter>
            
            <parameter name="writeMultipleEvenWithSingleRegister" type="boolean">
                <label>Use FC16</label>
                <default>false</default>
                <description>Whether even single register of data is written using "Write Multiple Holding Registers" or Function Code (FC) 16</description>
            </parameter>
		</config-description>
	</thing-type>


</thing:thing-descriptions>